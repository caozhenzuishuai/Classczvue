# 1.Vue 简介

## Vue 是一个构造函数

- 一旦引入 vue.js 全局又会有一个变量 Vue

## 1.new Vue(配置对象)

- 什么是配置对象？
- 普通对象：属性名是任意的字符串
- 配置对象：属性名是固定的 每个固定的属性都有相应的作用，不能随便写。
  第一层属性（对象的直接属性，如 el、data)是固定的
  第二层属性 （对象的对象上的属性，如 msg）就不一定了。
  更多的配置选项 文档：https://cn.vuejs.org/v2/api/

## 2.模板

- 模板页面：整个页面叫做模板页面 HTML+JS+CSS
- 模板语法 ：插值语法（双大括号表示）：{{JS表达式}}
- 作用 ：用来在 HTML 中动态展示数据（JS 中的数据）
- 指令语法 ：指令语法 v-model="JS 表达式"
- Vue 自定义的以 v-xxx 开头的标签属性，属性值是 JS 表达式
- 作用： 用于实现双向数据绑定
- 更多的指令 ：https://cn.vuejs.org/v2/api/#v-model
- 双向数据绑定：
  视图层/页面
  数据层/代码/data 1.改变页面的输入，vue 会自动将页面最新的数据保存在代码 data 对应的属性上
  视图层 -->数据层 （数据由视图层流向数据层） 2.当 data 数据发生变化，vue 会自动将最新的数据更新到页面对应的位置上
  数据层 -->视图层（数据由数据层流向视图层）
  如果只有第二种情况，叫做数据的单向绑定（单向数据流）-->React

## 3.表达式和语句

- 表达式 1.没有分号结尾 2.有一个结果值
- 语句 1.有分号做结尾，如果没有分号在编译时会自动添加分号 2.对内部的数据进行操作，没有结果值

```js
const a = 123; //语句
a; //表达式
123; //表达式
123; //语句
function fn() {} //语句
const fn = function () {}; //函数表达式语句
fn; //表达式
fn(); //表达式
fn(); //表达式语句
```

## 4.理解 MVVM

### MVC

- m -->Model 数据层 （存放数据）
- v -->View 视图层 （展示页面）
- c -->Controller 控制层（复杂操作数据显示到页面上）

### MVVM

- m -->Model 数据层 （为模板页面提供数据）
- v -->View 视图层 （模板页面）
- vm-->ViewModel 通过数据绑定和 Dom 事件监听来实现 Model 和 View 双向数据绑定
- 数据绑定：Model -->View
- DOW 事件监听：View-->Model

```js
//1.写法
const vm = new Vue({
  el: "#app", //获取Dom元素 内部通过querySelector获取
  data: {
    //data数据：用来保存要展示在页面上的动态数据（会变化）
    msg: "caozhen",
    sex: "nan",
  },
});

//2.写法
const vm = new Vue({
  // el: "#app", //获取Dom元素 内部通过querySelector获取
  data: {
    //data数据：用来保存要展示在页面上的动态数据（会变化）
    msg: "caozhen",
    sex: "nan",
  },
});
vm.$mount("#app");

//2.写法
const vm = new Vue({
  // el: "#app", //获取Dom元素 内部通过querySelector获取
  data: {
    //data数据：用来保存要展示在页面上的动态数据（会变化）
    msg: "caozhen",
    sex: "nan",
  },
}).$mount("#app"); //链式调用 return this
```

## 5.理解模板

1. 模板的理解
   动态的 html 页面
   包含了一些 JS 语法代码
   双大括号表达式
   指令（以 v-xxx 的自定义标签属性）

2. 双大括号表达式
   语法：{{exp}}或{{{exp}}}
   功能：向页面输出数据可以调用对象的方法
3. 指令一：强制数据绑定
   功能 ：指定变化的属性值
   完整写法：`v-bind:xxx='yyy'` //yyy 会作为表达式解析执行
   简洁写法：`:xxx='yyy'`
4. 指令二：绑定事件监听
   功能：绑定指定事件名的回调函数
   完整写法：`v-on:click='xxx'`
   简洁写法：`@click='xxx'`

- 如果要将数据显示到标签内部去，用双大括号表达式
- 如果要将数据显示到标签属性上，用 v-bing 强制数据绑定

## 5.this 指向问题

1. 函数直接调用 fn() this 指向 window
   特殊：在 ES5 严格模式下 this 指向 undefined
2. 函数隐式调用 obj.fn() this 指向 obj
3. 函数显式调用 fn().call/apply(obj) this 指向 obj
4. 函数 new 调用 new fn() this 指向实例对象
5. ES6 箭头函数 this 指向离他最近一层包裹它的函数的 this （外部函数的 this）
6. 回调函数
   - 什么是回调函数
     - 我定义的
     - 我没有调用
     - 最终执行了
   - 有哪些回调函数
     - 定时器回调函数 this 默认指向 window
       特殊:在 ES5 严格模式下 this 指向 undefined
     - DOM 事件回调函数 this 指向被绑定事件的 DOM 元素
       特殊：在 vue 框架中，DOM 事件回调函数的 this 指向 vue 的实例对象 vm

## 计算属性和监视

1. 计算属性：
   - 在 computed 属性对象中定义计算属性的方法在页面中使用{{方法名}}来显示计算的结果
2. 监视属性:
   - 通过通过 vm 对象的\$watch()或 watch 配置来监视指定的属性
     当属性变化时, 回调函数自动调用, 在函数内部进行计算
3. 计算属性高级:
   - 通过 getter/setter 实现对属性数据的显示和监视
     计算属性存在缓存, 多次读取只执行一次 getter 计算

## 计算属性和监视属性用法

1. 计算属性
   - 定义某个属性的 getter 和 setter
   - 属性不需要在 data 中定义
   - 什么时候用计算属性：
     - 当一个属性不能直接显示，而是要通过计算后才能显示，就使用计算属性
2. 监视属性

   - 监视某个属性的变化
   - 属性需要在 data 中定义
   - 监视属性一般用的很少，只有属性发生变化需要发送 AJAX 请求时，才会用上~

3. 简单理解，一般使用计算属性，只有需要发送请求就使用监视属性~
